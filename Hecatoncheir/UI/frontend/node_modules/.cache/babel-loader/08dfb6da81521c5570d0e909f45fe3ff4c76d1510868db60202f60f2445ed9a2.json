{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nexport function updateFileList(file, fileList) {\n  const nextFileList = _toConsumableArray(fileList);\n  const fileIndex = nextFileList.findIndex(({\n    uid\n  }) => uid === file.uid);\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = (url = '') => {\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nexport const isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}","map":{"version":3,"names":["_toConsumableArray","file2Obj","file","Object","assign","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","updateFileList","fileList","nextFileList","fileIndex","findIndex","push","getFileItem","matchKey","undefined","filter","item","removeFileItem","removed","length","extname","url","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","isImageUrl","thumbUrl","extension","test","MEASURE_SIZE","previewImage","Promise","resolve","canvas","document","createElement","width","height","style","cssText","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","window","URL","revokeObjectURL","src","crossOrigin","startsWith","reader","FileReader","result","readAsDataURL","createObjectURL"],"sources":["/home/command/Desktop/hecatoncheir-app/hecatoncheir-ui/frontend/node_modules/antd/es/upload/utils.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nexport function updateFileList(file, fileList) {\n  const nextFileList = _toConsumableArray(fileList);\n  const fileIndex = nextFileList.findIndex(({\n    uid\n  }) => uid === file.uid);\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = (url = '') => {\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nexport const isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}