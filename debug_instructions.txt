build with Debug and compile with ASAN flags
then:
export ASAN_OPTIONS=verbosity=1:log_path=asan.log:detect_leaks=1
then run:
ASAN_OPTIONS=verbosity=2:log_path=asan.log:detect_leaks=1:malloc_context_size=20:abort_on_error=1 ASAN_SYMBOLIZER_PATH=/usr/bin/llvm-symbolizer mpirun.mpich build/driver/driver

valgrind (compile with -g -O0):
valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes --verbose --log-file=valgrind_log.txt mpirun.mpich build/driver/driver

# TAU PROFILING

# recompile
build.sh --use-tau

# set env variables
export TAU_COMM_MATRIX=1
export TAU_TRACK_MPI_COMMUNICATORS=1
export TAU_MPI_PER_COMM_RANK=1
# and run with
mpirun build/driver/driver

# then, from inside the profile directory
pprof -a              # aggregate all profiles
pprof -s              # show summary
pprof -f function     # profile by function
pprof -m              # profile by module
paraprof              # visualize