<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hecatoncheir: Dataset Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hecatoncheir
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">code documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structDataset-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Dataset Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>All dataset related information.  
 <a href="structDataset.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="containers_8h_source.html">containers.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Dataset:</div>
<div class="dyncontent">
<div class="center"><img src="structDataset__coll__graph.png" border="0" usemap="#aDataset_coll__map" alt="Collaboration graph"/></div>
<map name="aDataset_coll__map" id="aDataset_coll__map">
<area shape="rect" title="All dataset related information." alt="" coords="176,95,244,121"/>
<area shape="rect" href="structTwoLayerIndex.html" title="Holds all two&#45;layer related index information." alt="" coords="5,5,116,32"/>
<area shape="rect" href="structDataspaceMetadata.html" title="All dataspace related metadata, filled in after loading the dataset(s)." alt="" coords="141,5,279,32"/>
<area shape="rect" href="structAprilConfig.html" title="Contains all relevant APRIL configuration parameters." alt="" coords="316,5,403,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a417254634e955b40239fe866835a756a"><td class="memItemLeft" align="right" valign="top">DB_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a417254634e955b40239fe866835a756a">addObject</a> (<a class="el" href="structShape.html">Shape</a> &amp;object)</td></tr>
<tr class="memdesc:a417254634e955b40239fe866835a756a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a <a class="el" href="structShape.html" title="A spatial object. Could be point, linestring, rectangle or polygon, as specified by its &#39;dataType&#39; fi...">Shape</a> object into the two layer index and the reference map.  <a href="structDataset.html#a417254634e955b40239fe866835a756a">More...</a><br /></td></tr>
<tr class="separator:a417254634e955b40239fe866835a756a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2407297a4ceb58310cfd562510762c93"><td class="memItemLeft" align="right" valign="top"><a id="a2407297a4ceb58310cfd562510762c93"></a>
<a class="el" href="structShape.html">Shape</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a2407297a4ceb58310cfd562510762c93">getObject</a> (size_t recID)</td></tr>
<tr class="memdesc:a2407297a4ceb58310cfd562510762c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the object with the given ID. <br /></td></tr>
<tr class="separator:a2407297a4ceb58310cfd562510762c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af83cba15f19a6dad7259c0db5d71a172"><td class="memItemLeft" align="right" valign="top"><a id="af83cba15f19a6dad7259c0db5d71a172"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#af83cba15f19a6dad7259c0db5d71a172">calculateBufferSize</a> ()</td></tr>
<tr class="memdesc:af83cba15f19a6dad7259c0db5d71a172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the size needed for the dataset serialization. <br /></td></tr>
<tr class="separator:af83cba15f19a6dad7259c0db5d71a172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344e3c2482dc7864cc18d26cd3efb4d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a344e3c2482dc7864cc18d26cd3efb4d5">serialize</a> (char **buffer)</td></tr>
<tr class="memdesc:a344e3c2482dc7864cc18d26cd3efb4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes the dataset object (only the important stuff).  <a href="structDataset.html#a344e3c2482dc7864cc18d26cd3efb4d5">More...</a><br /></td></tr>
<tr class="separator:a344e3c2482dc7864cc18d26cd3efb4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8abcf622ba5cdb64326aaf075580a0fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a8abcf622ba5cdb64326aaf075580a0fe">deserialize</a> (const char *buffer, int bufferSize)</td></tr>
<tr class="memdesc:a8abcf622ba5cdb64326aaf075580a0fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes the given serialized buffer of the specified size into this <a class="el" href="structDataset.html" title="All dataset related information.">Dataset</a> object.  <a href="structDataset.html#a8abcf622ba5cdb64326aaf075580a0fe">More...</a><br /></td></tr>
<tr class="separator:a8abcf622ba5cdb64326aaf075580a0fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d59b3e2ea35367bd88776afd2391c94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a3d59b3e2ea35367bd88776afd2391c94">addAprilDataToApproximationDataMap</a> (const uint sectionID, const size_t recID, const <a class="el" href="structAprilData.html">AprilData</a> &amp;aprilData)</td></tr>
<tr class="separator:a3d59b3e2ea35367bd88776afd2391c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad72c5baa46b4858c89e315061632f0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#aad72c5baa46b4858c89e315061632f0f">addObjectToSectionMap</a> (const uint sectionID, const size_t recID)</td></tr>
<tr class="memdesc:aad72c5baa46b4858c89e315061632f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given object ID to the specified section ID.  <a href="structDataset.html#aad72c5baa46b4858c89e315061632f0f">More...</a><br /></td></tr>
<tr class="separator:aad72c5baa46b4858c89e315061632f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41e9e409e3d41186de8c6482e956859"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#ac41e9e409e3d41186de8c6482e956859">addIntervalsToAprilData</a> (const uint sectionID, const size_t recID, const int numIntervals, const std::vector&lt; uint32_t &gt; &amp;intervals, const bool ALL)</td></tr>
<tr class="memdesc:ac41e9e409e3d41186de8c6482e956859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given intervals into the given object with recID in the given section with section ID.  <a href="structDataset.html#ac41e9e409e3d41186de8c6482e956859">More...</a><br /></td></tr>
<tr class="separator:ac41e9e409e3d41186de8c6482e956859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328c53d20b6cc3e00735cfa2673624da"><td class="memItemLeft" align="right" valign="top"><a id="a328c53d20b6cc3e00735cfa2673624da"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addAprilData</b> (const uint sectionID, const size_t recID, const <a class="el" href="structAprilData.html">AprilData</a> &amp;aprilData)</td></tr>
<tr class="separator:a328c53d20b6cc3e00735cfa2673624da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35bb9622b885986f5e7edc7585a5b603"><td class="memItemLeft" align="right" valign="top"><a id="a35bb9622b885986f5e7edc7585a5b603"></a>
<a class="el" href="structAprilData.html">AprilData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a35bb9622b885986f5e7edc7585a5b603">getAprilDataBySectionAndObjectID</a> (uint sectionID, size_t recID)</td></tr>
<tr class="memdesc:a35bb9622b885986f5e7edc7585a5b603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the April Data of the given object's ID in section ID. <br /></td></tr>
<tr class="separator:a35bb9622b885986f5e7edc7585a5b603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1f923a6fd2811c00f0869395c3b522"><td class="memItemLeft" align="right" valign="top"><a id="a8b1f923a6fd2811c00f0869395c3b522"></a>
DB_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a8b1f923a6fd2811c00f0869395c3b522">setAprilDataForSectionAndObjectID</a> (uint sectionID, size_t recID, <a class="el" href="structAprilData.html">AprilData</a> &amp;aprilData)</td></tr>
<tr class="memdesc:a8b1f923a6fd2811c00f0869395c3b522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the april data in the dataset for the given object ID and section ID. <br /></td></tr>
<tr class="separator:a8b1f923a6fd2811c00f0869395c3b522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42cb1092d2e37cc6ead3d3b3d27df1e"><td class="memItemLeft" align="right" valign="top"><a id="af42cb1092d2e37cc6ead3d3b3d27df1e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printObjectsGeometries</b> ()</td></tr>
<tr class="separator:af42cb1092d2e37cc6ead3d3b3d27df1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7aeb8c891dfd246d4acf9382d70d1f"><td class="memItemLeft" align="right" valign="top"><a id="aaf7aeb8c891dfd246d4acf9382d70d1f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printObjectsPartitions</b> ()</td></tr>
<tr class="separator:aaf7aeb8c891dfd246d4acf9382d70d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcdf6b12fc2b15bcc9710141e67c9e7"><td class="memItemLeft" align="right" valign="top"><a id="aafcdf6b12fc2b15bcc9710141e67c9e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printPartitions</b> ()</td></tr>
<tr class="separator:aafcdf6b12fc2b15bcc9710141e67c9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a05bc51291b81004974eff766b70e10d6"><td class="memItemLeft" align="right" valign="top"><a id="a05bc51291b81004974eff766b70e10d6"></a>
DataTypeE&#160;</td><td class="memItemRight" valign="bottom"><b>dataType</b></td></tr>
<tr class="separator:a05bc51291b81004974eff766b70e10d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939c075b5a4412367f3b8f01ce4cb0c6"><td class="memItemLeft" align="right" valign="top"><a id="a939c075b5a4412367f3b8f01ce4cb0c6"></a>
FileTypeE&#160;</td><td class="memItemRight" valign="bottom"><b>fileType</b></td></tr>
<tr class="separator:a939c075b5a4412367f3b8f01ce4cb0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dce4e4a48fdde67d88323709e057457"><td class="memItemLeft" align="right" valign="top"><a id="a4dce4e4a48fdde67d88323709e057457"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>path</b></td></tr>
<tr class="separator:a4dce4e4a48fdde67d88323709e057457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484dd36669a522914527f410360c2243"><td class="memItemLeft" align="right" valign="top"><a id="a484dd36669a522914527f410360c2243"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>datasetName</b></td></tr>
<tr class="separator:a484dd36669a522914527f410360c2243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862c9fc35f80c659e6b2babda786f45b"><td class="memItemLeft" align="right" valign="top"><a id="a862c9fc35f80c659e6b2babda786f45b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>nickname</b></td></tr>
<tr class="separator:a862c9fc35f80c659e6b2babda786f45b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9567382439dc887615d8171d27ac9ad4"><td class="memItemLeft" align="right" valign="top"><a id="a9567382439dc887615d8171d27ac9ad4"></a>
<a class="el" href="structDataspaceMetadata.html">DataspaceMetadata</a>&#160;</td><td class="memItemRight" valign="bottom"><b>dataspaceMetadata</b></td></tr>
<tr class="separator:a9567382439dc887615d8171d27ac9ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae2d7c570cdef922948efdd2945b884"><td class="memItemLeft" align="right" valign="top"><a id="a1ae2d7c570cdef922948efdd2945b884"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>totalObjects</b> = 0</td></tr>
<tr class="separator:a1ae2d7c570cdef922948efdd2945b884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9286b080b9a7bcfcddbb346b8c47e677"><td class="memItemLeft" align="right" valign="top"><a id="a9286b080b9a7bcfcddbb346b8c47e677"></a>
std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>objectIDs</b></td></tr>
<tr class="separator:a9286b080b9a7bcfcddbb346b8c47e677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae715c3e2d2a74279d4fcb860a70691c4"><td class="memItemLeft" align="right" valign="top"><a id="ae715c3e2d2a74279d4fcb860a70691c4"></a>
std::unordered_map&lt; size_t, <a class="el" href="structShape.html">Shape</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>objects</b></td></tr>
<tr class="separator:ae715c3e2d2a74279d4fcb860a70691c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d7d2b12d0e34e9c1db943de4a6a989"><td class="memItemLeft" align="right" valign="top"><a id="ad0d7d2b12d0e34e9c1db943de4a6a989"></a>
<a class="el" href="structTwoLayerIndex.html">TwoLayerIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><b>twoLayerIndex</b></td></tr>
<tr class="separator:ad0d7d2b12d0e34e9c1db943de4a6a989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ff6d8d73f7f114e5e66a09be99a03b"><td class="memItemLeft" align="right" valign="top"><a id="a77ff6d8d73f7f114e5e66a09be99a03b"></a>
ApproximationTypeE&#160;</td><td class="memItemRight" valign="bottom"><b>approxType</b></td></tr>
<tr class="separator:a77ff6d8d73f7f114e5e66a09be99a03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93ef87039587724d6be23411868557e"><td class="memItemLeft" align="right" valign="top"><a id="ad93ef87039587724d6be23411868557e"></a>
<a class="el" href="structAprilConfig.html">AprilConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><b>aprilConfig</b></td></tr>
<tr class="separator:ad93ef87039587724d6be23411868557e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b176a14bd5857ccb6752922f3203bd"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint, <a class="el" href="structSection.html">Section</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#ad3b176a14bd5857ccb6752922f3203bd">sectionMap</a></td></tr>
<tr class="separator:ad3b176a14bd5857ccb6752922f3203bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066a8adb737e33d43a900faa5b155ae7"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; size_t, std::vector&lt; uint &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a></td></tr>
<tr class="separator:a066a8adb737e33d43a900faa5b155ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>All dataset related information. </p>

<p class="definition">Definition at line <a class="el" href="containers_8h_source.html#l01169">1169</a> of file <a class="el" href="containers_8h_source.html">containers.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a3d59b3e2ea35367bd88776afd2391c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d59b3e2ea35367bd88776afd2391c94">&#9670;&nbsp;</a></span>addAprilDataToApproximationDataMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dataset::addAprilDataToApproximationDataMap </td>
          <td>(</td>
          <td class="paramtype">const uint&#160;</td>
          <td class="paramname"><em>sectionID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>recID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAprilData.html">AprilData</a> &amp;&#160;</td>
          <td class="paramname"><em>aprilData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>UNSUPPORTED </dd></dl>

<p class="definition">Definition at line <a class="el" href="containers_8cpp_source.html#l00289">289</a> of file <a class="el" href="containers_8cpp_source.html">containers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                                                                                                     {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// store april data</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    this-&gt;<a class="code" href="structDataset.html#ad3b176a14bd5857ccb6752922f3203bd">sectionMap</a>[sectionID].aprilData[recID] = aprilData;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// store mapping recID -&gt; sectionID</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">auto</span> it = this-&gt;<a class="code" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a>.find(recID);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (it != this-&gt;<a class="code" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a>.end()) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// exists, append</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        it-&gt;second.emplace_back(sectionID);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">// doesnt exist, new entry</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        std::vector&lt;uint&gt; sectionIDs = {sectionID};</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        this-&gt;<a class="code" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a>[recID] = sectionIDs;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="ttc" id="astructDataset_html_a066a8adb737e33d43a900faa5b155ae7"><div class="ttname"><a href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">Dataset::recToSectionIdMap</a></div><div class="ttdeci">std::unordered_map&lt; size_t, std::vector&lt; uint &gt; &gt; recToSectionIdMap</div><div class="ttdef"><b>Definition:</b> <a href="containers_8h_source.html#l01189">containers.h:1189</a></div></div>
<div class="ttc" id="astructDataset_html_ad3b176a14bd5857ccb6752922f3203bd"><div class="ttname"><a href="structDataset.html#ad3b176a14bd5857ccb6752922f3203bd">Dataset::sectionMap</a></div><div class="ttdeci">std::unordered_map&lt; uint, Section &gt; sectionMap</div><div class="ttdef"><b>Definition:</b> <a href="containers_8h_source.html#l01187">containers.h:1187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac41e9e409e3d41186de8c6482e956859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41e9e409e3d41186de8c6482e956859">&#9670;&nbsp;</a></span>addIntervalsToAprilData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dataset::addIntervalsToAprilData </td>
          <td>(</td>
          <td class="paramtype">const uint&#160;</td>
          <td class="paramname"><em>sectionID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>recID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>numIntervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>intervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>ALL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the given intervals into the given object with recID in the given section with section ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ALL</td><td>Specfies whether the input intervals represent the A-list or not (F-list otherwise). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="containers_8cpp_source.html#l00319">319</a> of file <a class="el" href="containers_8cpp_source.html">containers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                                                                                                                                            {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// retrieve section</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keyword">auto</span> secIT = this-&gt;<a class="code" href="structDataset.html#ad3b176a14bd5857ccb6752922f3203bd">sectionMap</a>.find(sectionID);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (secIT == this-&gt;<a class="code" href="structDataset.html#ad3b176a14bd5857ccb6752922f3203bd">sectionMap</a>.end()) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="namespacelogger.html#a53f34feeb22a94db295af05b8b2aab5c">logger::log_error</a>(DBERR_INVALID_PARAMETER, <span class="stringliteral">&quot;could not find section ID&quot;</span>, sectionID, <span class="stringliteral">&quot;in section map of dataset&quot;</span>, this-&gt;nickname);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// retrieve object</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">auto</span> it = secIT-&gt;second.aprilData.find(recID);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (it == secIT-&gt;second.aprilData.end()) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="namespacelogger.html#a53f34feeb22a94db295af05b8b2aab5c">logger::log_error</a>(DBERR_INVALID_PARAMETER, <span class="stringliteral">&quot;could not find recID&quot;</span>, recID, <span class="stringliteral">&quot;in section map of dataset&quot;</span>, this-&gt;nickname);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// replace intervals in april data</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (ALL) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        it-&gt;second.numIntervalsALL = numIntervals;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        it-&gt;second.intervalsALL = intervals;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        it-&gt;second.numIntervalsFULL = numIntervals;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        it-&gt;second.intervalsFULL = intervals;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="anamespacelogger_html_a53f34feeb22a94db295af05b8b2aab5c"><div class="ttname"><a href="namespacelogger.html#a53f34feeb22a94db295af05b8b2aab5c">logger::log_error</a></div><div class="ttdeci">void log_error(int errorCode, T first, Args... rest)</div><div class="ttdoc">Error logging function with template arguments. Separates input parameters with spaces....</div><div class="ttdef"><b>Definition:</b> <a href="utils_8h_source.html#l00096">utils.h:96</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structDataset_ac41e9e409e3d41186de8c6482e956859_cgraph.png" border="0" usemap="#astructDataset_ac41e9e409e3d41186de8c6482e956859_cgraph" alt=""/></div>
<map name="astructDataset_ac41e9e409e3d41186de8c6482e956859_cgraph" id="astructDataset_ac41e9e409e3d41186de8c6482e956859_cgraph">
<area shape="rect" title="Adds the given intervals into the given object with recID in the given section with section ID." alt="" coords="5,5,220,32"/>
<area shape="rect" href="namespacelogger.html#a53f34feeb22a94db295af05b8b2aab5c" title="Error logging function with template arguments. Separates input parameters with spaces...." alt="" coords="268,5,383,32"/>
</map>
</div>

</div>
</div>
<a id="a417254634e955b40239fe866835a756a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417254634e955b40239fe866835a756a">&#9670;&nbsp;</a></span>addObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DB_STATUS Dataset::addObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structShape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a <a class="el" href="structShape.html" title="A spatial object. Could be point, linestring, rectangle or polygon, as specified by its &#39;dataType&#39; fi...">Shape</a> object into the two layer index and the reference map. </p>
<dl class="section note"><dt>Note</dt><dd>Calculates the partitions and the object's classes in them. </dd></dl>
<p>add object to section map (section 0) </p><dl class="section warning"><dt>Warning</dt><dd>do not remove, will break the parallel in-memory <a class="el" href="namespaceAPRIL.html" title="APRIL related methods.">APRIL</a> generation</dd></dl>

<p class="definition">Definition at line <a class="el" href="containers_8cpp_source.html#l00188">188</a> of file <a class="el" href="containers_8cpp_source.html">containers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                          {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// add object to the objects map</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    objects[<span class="keywordtype">object</span>.recID] = object;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// get object reference</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="structShape.html">Shape</a>* objectRef = this-&gt;<a class="code" href="structDataset.html#a2407297a4ceb58310cfd562510762c93">getObject</a>(<span class="keywordtype">object</span>.recID);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (objectRef == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="namespacelogger.html#a53f34feeb22a94db295af05b8b2aab5c">logger::log_error</a>(DBERR_INVALID_KEY, <span class="stringliteral">&quot;Object with id&quot;</span>, <span class="keywordtype">object</span>.recID, <span class="stringliteral">&quot;does not exist in the object map.&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> DBERR_INVALID_KEY;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// insert reference to partition index</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<span class="keywordtype">object</span>.getPartitionCount(); i++) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        this-&gt;twoLayerIndex.<a class="code" href="structTwoLayerIndex.html#ae929e428c40274230f4b2d0b7129b983">addObject</a>(<span class="keywordtype">object</span>.getPartitionID(i), <span class="keywordtype">object</span>.getPartitionClass(i), objectRef);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// keep the ID in the list</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    objectIDs.push_back(<span class="keywordtype">object</span>.recID);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    this-&gt;<a class="code" href="structDataset.html#aad72c5baa46b4858c89e315061632f0f">addObjectToSectionMap</a>(0, <span class="keywordtype">object</span>.recID);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> DBERR_OK;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="ttc" id="astructDataset_html_a2407297a4ceb58310cfd562510762c93"><div class="ttname"><a href="structDataset.html#a2407297a4ceb58310cfd562510762c93">Dataset::getObject</a></div><div class="ttdeci">Shape * getObject(size_t recID)</div><div class="ttdoc">Returns a reference to the object with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="containers_8cpp_source.html#l00180">containers.cpp:180</a></div></div>
<div class="ttc" id="astructDataset_html_aad72c5baa46b4858c89e315061632f0f"><div class="ttname"><a href="structDataset.html#aad72c5baa46b4858c89e315061632f0f">Dataset::addObjectToSectionMap</a></div><div class="ttdeci">void addObjectToSectionMap(const uint sectionID, const size_t recID)</div><div class="ttdoc">Adds the given object ID to the specified section ID.</div><div class="ttdef"><b>Definition:</b> <a href="containers_8cpp_source.html#l00304">containers.cpp:304</a></div></div>
<div class="ttc" id="astructShape_html"><div class="ttname"><a href="structShape.html">Shape</a></div><div class="ttdoc">A spatial object. Could be point, linestring, rectangle or polygon, as specified by its 'dataType' fi...</div><div class="ttdef"><b>Definition:</b> <a href="containers_8h_source.html#l00717">containers.h:717</a></div></div>
<div class="ttc" id="astructTwoLayerIndex_html_ae929e428c40274230f4b2d0b7129b983"><div class="ttname"><a href="structTwoLayerIndex.html#ae929e428c40274230f4b2d0b7129b983">TwoLayerIndex::addObject</a></div><div class="ttdeci">void addObject(int partitionID, TwoLayerClassE classType, Shape *objectRef)</div><div class="ttdoc">Adds an object to a partition with partitionID, with the specified classType and returns a pointer to...</div><div class="ttdef"><b>Definition:</b> <a href="containers_8cpp_source.html#l00480">containers.cpp:480</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structDataset_a417254634e955b40239fe866835a756a_cgraph.png" border="0" usemap="#astructDataset_a417254634e955b40239fe866835a756a_cgraph" alt=""/></div>
<map name="astructDataset_a417254634e955b40239fe866835a756a_cgraph" id="astructDataset_a417254634e955b40239fe866835a756a_cgraph">
<area shape="rect" title="Adds a Shape object into the two layer index and the reference map." alt="" coords="5,81,140,108"/>
<area shape="rect" href="structTwoLayerIndex.html#ae929e428c40274230f4b2d0b7129b983" title="Adds an object to a partition with partitionID, with the specified classType and returns a pointer to..." alt="" coords="209,5,386,32"/>
<area shape="rect" href="structDataset.html#aad72c5baa46b4858c89e315061632f0f" title="Adds the given object ID to the specified section ID." alt="" coords="188,56,407,83"/>
<area shape="rect" href="structDataset.html#a2407297a4ceb58310cfd562510762c93" title="Returns a reference to the object with the given ID." alt="" coords="231,107,363,133"/>
<area shape="rect" href="namespacelogger.html#a53f34feeb22a94db295af05b8b2aab5c" title="Error logging function with template arguments. Separates input parameters with spaces...." alt="" coords="240,157,355,184"/>
</map>
</div>

</div>
</div>
<a id="aad72c5baa46b4858c89e315061632f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad72c5baa46b4858c89e315061632f0f">&#9670;&nbsp;</a></span>addObjectToSectionMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dataset::addObjectToSectionMap </td>
          <td>(</td>
          <td class="paramtype">const uint&#160;</td>
          <td class="paramname"><em>sectionID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>recID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the given object ID to the specified section ID. </p>
<dl class="section warning"><dt>Warning</dt><dd>UNSUPPORTED for sections IDs different than 0 (1 partition) </dd></dl>

<p class="definition">Definition at line <a class="el" href="containers_8cpp_source.html#l00304">304</a> of file <a class="el" href="containers_8cpp_source.html">containers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                                                            {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="structAprilData.html">AprilData</a> aprilData;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    this-&gt;<a class="code" href="structDataset.html#ad3b176a14bd5857ccb6752922f3203bd">sectionMap</a>[sectionID].aprilData[recID] = aprilData;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// store mapping recID -&gt; sectionID</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">auto</span> it = this-&gt;<a class="code" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a>.find(recID);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (it != this-&gt;<a class="code" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a>.end()) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="comment">// exists</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        it-&gt;second.emplace_back(sectionID);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">// doesnt exist, new entry</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        std::vector&lt;uint&gt; sectionIDs = {sectionID};</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        this-&gt;<a class="code" href="structDataset.html#a066a8adb737e33d43a900faa5b155ae7">recToSectionIdMap</a>[recID] = sectionIDs;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="ttc" id="astructAprilData_html"><div class="ttname"><a href="structAprilData.html">AprilData</a></div><div class="ttdoc">Holds all the APRIL related metadata for a single object.</div><div class="ttdef"><b>Definition:</b> <a href="containers_8h_source.html#l00031">containers.h:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structDataset_aad72c5baa46b4858c89e315061632f0f_icgraph.png" border="0" usemap="#astructDataset_aad72c5baa46b4858c89e315061632f0f_icgraph" alt=""/></div>
<map name="astructDataset_aad72c5baa46b4858c89e315061632f0f_icgraph" id="astructDataset_aad72c5baa46b4858c89e315061632f0f_icgraph">
<area shape="rect" title="Adds the given object ID to the specified section ID." alt="" coords="220,35,439,61"/>
<area shape="rect" href="structDataset.html#a417254634e955b40239fe866835a756a" title="Adds a Shape object into the two layer index and the reference map." alt="" coords="21,5,156,32"/>
<area shape="rect" href="structDataset.html#a8b1f923a6fd2811c00f0869395c3b522" title="Sets the april data in the dataset for the given object ID and section ID." alt="" coords="5,57,172,98"/>
</map>
</div>

</div>
</div>
<a id="a8abcf622ba5cdb64326aaf075580a0fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8abcf622ba5cdb64326aaf075580a0fe">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dataset::deserialize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserializes the given serialized buffer of the specified size into this <a class="el" href="structDataset.html" title="All dataset related information.">Dataset</a> object. </p>
<dl class="section warning"><dt>Warning</dt><dd>Caller is responsible for the validity of the input buffer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="containers_8cpp_source.html#l00259">259</a> of file <a class="el" href="containers_8cpp_source.html">containers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                                            {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordtype">int</span> nicknameLength;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">int</span> position = 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">double</span> xMin, yMin, xMax, yMax;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// dataset data type</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    memcpy(&amp;dataType, buffer + position, <span class="keyword">sizeof</span>(DataTypeE));</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    position += <span class="keyword">sizeof</span>(DataTypeE);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// dataset nickname length + string</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    memcpy(&amp;nicknameLength, buffer + position, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    position += <span class="keyword">sizeof</span>(int);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    nickname.assign(buffer + position, nicknameLength);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    position += nicknameLength * <span class="keyword">sizeof</span>(char);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// dataset dataspace MBR</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    memcpy(&amp;xMin, buffer + position, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    memcpy(&amp;yMin, buffer + position, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    memcpy(&amp;xMax, buffer + position, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    memcpy(&amp;yMax, buffer + position, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// set</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    dataspaceMetadata.set(xMin, yMin, xMax, yMax);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (position == bufferSize) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">// all is well</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a344e3c2482dc7864cc18d26cd3efb4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a344e3c2482dc7864cc18d26cd3efb4d5">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Dataset::serialize </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes the dataset object (only the important stuff). </p>
<p>serialize dataset metadata (only specific stuff) </p>

<p class="definition">Definition at line <a class="el" href="containers_8cpp_source.html#l00224">224</a> of file <a class="el" href="containers_8cpp_source.html">containers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                    {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">int</span> position = 0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// calculate size</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">int</span> bufferSize = <a class="code" href="structDataset.html#af83cba15f19a6dad7259c0db5d71a172">calculateBufferSize</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// allocate space</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">char</span>* localBuffer = (<span class="keywordtype">char</span>*) malloc(bufferSize * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (localBuffer == NULL) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="comment">// malloc failed</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// add datatype</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    memcpy(localBuffer + position, &amp;dataType, <span class="keyword">sizeof</span>(DataTypeE));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    position += <span class="keyword">sizeof</span>(DataTypeE);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// add dataset nickname length + string</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">int</span> nicknameLength = nickname.length();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    memcpy(localBuffer + position, &amp;nicknameLength, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    position += <span class="keyword">sizeof</span>(int);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    memcpy(localBuffer + position, nickname.data(), nicknameLength);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    position += nicknameLength * <span class="keyword">sizeof</span>(char);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// add dataset&#39;s dataspace MBR</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    memcpy(localBuffer + position, &amp;dataspaceMetadata.xMinGlobal, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    memcpy(localBuffer + position, &amp;dataspaceMetadata.yMinGlobal, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    memcpy(localBuffer + position, &amp;dataspaceMetadata.xMaxGlobal, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    memcpy(localBuffer + position, &amp;dataspaceMetadata.yMaxGlobal, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    position += <span class="keyword">sizeof</span>(double);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// set and return</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    (*buffer) = localBuffer;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> bufferSize;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="ttc" id="astructDataset_html_af83cba15f19a6dad7259c0db5d71a172"><div class="ttname"><a href="structDataset.html#af83cba15f19a6dad7259c0db5d71a172">Dataset::calculateBufferSize</a></div><div class="ttdeci">int calculateBufferSize()</div><div class="ttdoc">Calculate the size needed for the dataset serialization.</div><div class="ttdef"><b>Definition:</b> <a href="containers_8cpp_source.html#l00209">containers.cpp:209</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structDataset_a344e3c2482dc7864cc18d26cd3efb4d5_cgraph.png" border="0" usemap="#astructDataset_a344e3c2482dc7864cc18d26cd3efb4d5_cgraph" alt=""/></div>
<map name="astructDataset_a344e3c2482dc7864cc18d26cd3efb4d5_cgraph" id="astructDataset_a344e3c2482dc7864cc18d26cd3efb4d5_cgraph">
<area shape="rect" title="Serializes the dataset object (only the important stuff)." alt="" coords="5,5,129,32"/>
<area shape="rect" href="structDataset.html#af83cba15f19a6dad7259c0db5d71a172" title="Calculate the size needed for the dataset serialization." alt="" coords="177,5,367,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structDataset_a344e3c2482dc7864cc18d26cd3efb4d5_icgraph.png" border="0" usemap="#astructDataset_a344e3c2482dc7864cc18d26cd3efb4d5_icgraph" alt=""/></div>
<map name="astructDataset_a344e3c2482dc7864cc18d26cd3efb4d5_icgraph" id="astructDataset_a344e3c2482dc7864cc18d26cd3efb4d5_icgraph">
<area shape="rect" title="Serializes the dataset object (only the important stuff)." alt="" coords="240,13,364,39"/>
<area shape="rect" href="namespacecomm_1_1controller_1_1host.html#a6363e14474a57fb5f933bc9c0f21c791" title="Packs and broadcasts the dataset metadata to all worker nodes." alt="" coords="5,5,192,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a066a8adb737e33d43a900faa5b155ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a066a8adb737e33d43a900faa5b155ae7">&#9670;&nbsp;</a></span>recToSectionIdMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;size_t,std::vector&lt;uint&gt; &gt; Dataset::recToSectionIdMap</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>map: key,value = recID,vector&lt;sectionID&gt;: maps recs to sections </p>

<p class="definition">Definition at line <a class="el" href="containers_8h_source.html#l01189">1189</a> of file <a class="el" href="containers_8h_source.html">containers.h</a>.</p>

</div>
</div>
<a id="ad3b176a14bd5857ccb6752922f3203bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3b176a14bd5857ccb6752922f3203bd">&#9670;&nbsp;</a></span>sectionMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint, <a class="el" href="structSection.html">Section</a>&gt; Dataset::sectionMap</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="structSection.html" title="Holds information about sections, i.e. APRIL partitions.">Section</a> mapping. key,value = sectionID,(unordered map of key,value = recID,aprilData) </p><dl class="section warning"><dt>Warning</dt><dd>only sectionID = 0 is supported currently. </dd></dl>

<p class="definition">Definition at line <a class="el" href="containers_8h_source.html#l01187">1187</a> of file <a class="el" href="containers_8h_source.html">containers.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>include/<a class="el" href="containers_8h_source.html">containers.h</a></li>
<li>src/<a class="el" href="containers_8cpp_source.html">containers.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
